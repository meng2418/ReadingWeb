<!-- Profile.vue -->
<template>
  <NavBar />
  <div class="profile-page">
    <section class="header-section">
      <UserProfile />
    </section>

    <section class="main-section">
      <aside class="left-sidebar">
        <SidebarRankings />
      </aside>

      <main class="right-dashboard">
        <ReadingDashboard :initialTab="$route.query.tab" />
        <ReadingNotes />
        <ReadingThoughts />
        <ReadingReviews />
      </main>
    </section>
  </div>
</template>

<script setup>
import NavBar from '@/components/layout/NavBar.vue'
import UserProfile from '@/components/user/UserProfile.vue'
import SidebarRankings from '@/components/user/SidebarRankings.vue'
import ReadingDashboard from '@/components/user/ReadingDashboard.vue'
import ReadingNotes from '@/components/user/ReadingNotes.vue'
import ReadingThoughts from '@/components/user/ReadingThoughts.vue'
import ReadingReviews from '@/components/user/ReadingReviews.vue'
</script>

<style scoped>
/* å®šä¹‰é¡µé¢çº§ CSS å˜é‡ 
  å¦‚æœä½ çš„é¡¹ç›®ä¸­å·²æœ‰å…¨å±€æ ·å¼æ–‡ä»¶(å¦‚ global.css)ï¼Œå¯ä»¥å°† :root éƒ¨åˆ†ç§»è¿‡å»
*/

/* é™åˆ¶å†…å®¹æœ€å¤§å®½åº¦ï¼Œä¿æŒå¤§å±ç¾è§‚ */
.profile-page > * {
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
}

/* é¡¶éƒ¨åŒºåŸŸé—´è· */
.header-section {
  margin-top: 60px;
  margin-bottom: 20px;
}

/* Grid å¸ƒå±€ï¼šå·¦ä¾§å®šå®½ï¼Œå³ä¾§è‡ªé€‚åº” */
.main-section {
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: 20px;
  align-items: start; /* é˜²æ­¢ä¾§è¾¹æ è¢«æ‹‰ä¼¸ */
}
.right-dashboard {
  /* ğŸ”¥ å…³é”®ä»£ç ï¼šé˜²æ­¢ grid å­å…ƒç´ è¢«å†…éƒ¨å®½å†…å®¹æ’‘å¼€ */
  min-width: 0;
  /* æˆ–è€…ä½¿ç”¨ overflow: hidden; ä½† min-width: 0 æ›´æ¨è */
}
/* å“åº”å¼å¤„ç† */
@media (max-width: 900px) {
  .main-section {
    grid-template-columns: 1fr; /* å¹³æ¿/æ‰‹æœºç«¯å˜ä¸ºå•åˆ— */
  }

  .left-sidebar {
    order: 2; /* ç§»åŠ¨ç«¯å°†æ’è¡Œæ¦œæ”¾åˆ°ä¸‹é¢ï¼Œå¦‚æœéœ€è¦çš„è¯ */
  }

  .right-dashboard {
    order: 1;
  }
}
</style>
